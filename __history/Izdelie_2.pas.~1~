unit Izdelie_2;

interface

uses
  Windows, Messages, SysUtils, Variants, Classes, Graphics, Controls, Forms,
  Dialogs, cxGraphics, cxControls, cxLookAndFeels, cxLookAndFeelPainters,
  dxSkinsCore, dxSkinsDefaultPainters, cxStyles, cxCustomData, cxFilter, cxData,
  cxDataStorage, cxEdit, DB, cxDBData, StdCtrls, Buttons, cxGridLevel,
  cxGridCustomTableView, cxGridTableView, cxGridDBTableView, cxClasses,
  cxGridCustomView, cxGrid;

type
  TIzdelie2 = class(TForm)
    cxGrid1: TcxGrid;
    cxGrid1DBTableView1: TcxGridDBTableView;
    cxGrid1DBTableView1SV_ID: TcxGridDBColumn;
    cxGrid1DBTableView1SV_UID: TcxGridDBColumn;
    cxGrid1DBTableView1SV_TPID: TcxGridDBColumn;
    cxGrid1DBTableView1Column1: TcxGridDBColumn;
    cxGrid1DBTableView1SV_COUNT: TcxGridDBColumn;
    cxGrid1DBTableView1SV_ZAGOTOVKI: TcxGridDBColumn;
    cxGrid1DBTableView1SV_READY: TcxGridDBColumn;
    cxGrid1DBTableView1SV_DATEOTGRUZ: TcxGridDBColumn;
    cxGrid1DBTableView1SV_SHIP: TcxGridDBColumn;
    cxGrid1DBTableView1SV_UNITM: TcxGridDBColumn;
    cxGrid1Level1: TcxGridLevel;
    cxGrid2: TcxGrid;
    cxGrid2DBTableView1: TcxGridDBTableView;
    cxGrid2DBTableView1TP_ID: TcxGridDBColumn;
    cxGrid2DBTableView1TP_PGID: TcxGridDBColumn;
    cxGrid2DBTableView1TP_NAME: TcxGridDBColumn;
    cxGrid2DBTableView1TP_VOLUME: TcxGridDBColumn;
    cxGrid2DBTableView1TP_UNITM: TcxGridDBColumn;
    cxGrid2DBTableView1TP_GOST: TcxGridDBColumn;
    cxGrid2Level1: TcxGridLevel;
    SaveButton: TBitBtn;
    procedure FormShow(Sender: TObject);
  private
    { Private declarations }
  public
    { Public declarations }
  end;

var
  Izdelie2: TIzdelie2;

implementation

uses DataModuleForm, BTS_Office_form;

{$R *.dfm}

procedure TIzdelie2.FormShow(Sender: TObject);
begin
  DataModule.ds_product.Filtered := False;
//  DataModule.ds_product.Close;
//  DataModule.ds_product.SelectSQL.Text:='SELECT TP_ID, TP_PGID, TP_NAME, TP_VOLUME, TP_UNITM, TP_GOST FROM T_PRODUCT order by TP_NAME'; //COLLATE PXW_CYRL';
//  DataModule.ds_product.Open;
  DataModule.ds_product.ReopenLocate('TP_ID');   //TP_ID

  DataModule.ds_SERV.Close;
  DataModule.ds_SERV.ParamByName('Perem').Value:=DataModule.DS_T_USERS.FieldByName('U_ID').AsInteger;
  DataModule.ds_SERV.Open;
  //DataModule.ds_SERV.Edit;

  //Label4.Caption :=IntToStr(UserRight);
  if UserRight = 1 then
   Begin
    cxGrid1DBTableView1SV_COUNT.Options.Editing :=False;
    cxGrid1DBTableView1SV_ZAGOTOVKI.Options.Editing :=False;
    cxGrid1DBTableView1SV_DATEOTGRUZ.Options.Editing :=False;
   End;

end;

end.
